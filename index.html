<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Daily Challenge</title>
  <!-- Cartoony Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #fef6ff;
      --accent: #ff6ec7;
      --accent-dark: #7c3aed;
      --accent-soft: #ffe0ff;
      --card: #ffffff;
      --text: #2b2136;
      --shadow: rgba(0, 0, 0, 0.15);
      --border-radius: 32px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background:
        radial-gradient(circle at top left, #ff9f1c 0, transparent 45%),
        radial-gradient(circle at top right, #ff6ec7 0, transparent 45%),
        radial-gradient(circle at bottom, #7c3aed 0, #1f102e 60%);
      font-family: "Baloo 2", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text);
      padding: 16px;
    }

    .app-shell {
      width: 380px;
      max-width: 380px;
      background: var(--card);
      border-radius: var(--border-radius);
      box-shadow: 0 18px 40px var(--shadow);
      padding: 24px 20px 28px;
      position: relative;
      overflow: hidden;
    }

    .bubble-bg {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0.22;
      background:
        radial-gradient(circle at 10% 10%, #ff9f1c 0, transparent 55%),
        radial-gradient(circle at 85% 0%, #ff6ec7 0, transparent 55%),
        radial-gradient(circle at 100% 80%, #7c3aed 0, transparent 55%);
      z-index: 0;
    }

    .content { position: relative; z-index: 1; }

    .app-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .app-avatar {
      width: 52px;
      height: 52px;
      border-radius: 50%;
      background: linear-gradient(135deg, #ff9f1c, #ff6ec7);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 14px var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .app-avatar-face {
      width: 32px;
      height: 32px;
      background: #fffbf2;
      border-radius: 50%;
      position: relative;
    }

    .app-avatar-face::before,
    .app-avatar-face::after {
      content: "";
      position: absolute;
      width: 6px;
      height: 6px;
      background: #333;
      border-radius: 50%;
      top: 10px;
    }

    .app-avatar-face::before { left: 8px; }
    .app-avatar-face::after { right: 8px; }

    .mouth {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      width: 16px;
      height: 8px;
      border-bottom-left-radius: 16px;
      border-bottom-right-radius: 16px;
      border: 3px solid #333;
      border-top: none;
    }

    .app-title-group { flex: 1; }

    .app-title {
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: 0.03em;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .app-pill {
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.9);
      border: 1px dashed rgba(0, 0, 0, 0.08);
    }

    .app-subtitle {
      font-size: 0.85rem;
      margin-top: 2px;
      opacity: 0.85;
    }

    .streak-bar {
      margin-top: 10px;
      margin-bottom: 10px;
      padding: 10px 14px;
      border-radius: 999px;
      background: linear-gradient(135deg, #7c3aed, #ff6ec7, #ff9f1c);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.18);
      flex-wrap: nowrap;
      white-space: nowrap;
    }

    .streak-bar > div {
      flex-shrink: 0;
    }

    .streak-label { font-size: 0.8rem; opacity: 0.9; }

    .streak-main {
      font-size: 1.1rem;
      font-weight: 800;
      display: flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }

    .streak-best {
      font-size: 0.75rem;
      opacity: 0.9;
      text-align: right;
      white-space: nowrap;
    }

    .challenge-card {
      margin-top: 18px;
      padding: 16px 14px 16px;
      border-radius: 20px;
      background: linear-gradient(135deg, #fce7ff, #ffffff);
      border: 2px solid rgba(124, 58, 237, 0.12);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.06);
      position: relative;
      overflow: hidden;
    }

    .challenge-card::before {
      content: "";
      position: absolute;
      inset: -40px;
      background-image: repeating-linear-gradient(
        120deg,
        rgba(255, 159, 28, 0.09) 0,
        rgba(255, 159, 28, 0.09) 8px,
        transparent 8px,
        transparent 16px
      );
      opacity: 0.6;
      pointer-events: none;
    }

    .challenge-inner { position: relative; z-index: 1; }

    .challenge-label-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.75rem;
      margin-bottom: 6px;
    }

    .pill {
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.9);
      border: 1px dashed rgba(0, 0, 0, 0.08);
    }

    .pill-category {
      background: var(--accent-soft);
      border-color: rgba(255, 110, 199, 0.75);
      font-weight: 600;
    }

    .challenge-text {
      font-size: 1.0rem;
      margin: 6px 0 4px;
      line-height: 1.35;
    }

    .tiny-note {
      font-size: 0.7rem;
      opacity: 0.8;
      margin-top: 2px;
    }

    .card-actions {
      margin-top: 14px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: stretch;
    }

    .btn-complete {
      width: 100%;
      padding-block: 14px;
      font-size: 1rem;
      background: linear-gradient(135deg, #ff9f1c, #ff6ec7, #7c3aed);
      color: #fff;
      border-radius: 999px;
      border: none;
      font-family: inherit;
      font-weight: 700;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      cursor: pointer;
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.2);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.08s ease;
    }

    .btn-complete:active {
      transform: translateY(2px) scale(0.985);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      filter: brightness(0.98);
    }

    .status-text {
      font-size: 0.75rem;
      opacity: 0.85;
      text-align: center;
    }

    .footer-note {
      margin-top: 14px;
      font-size: 0.72rem;
      opacity: 0.7;
      text-align: center;
    }

    /* üì± Mobile tweaks */
    @media (max-width: 480px) {
      body {
        padding: 16px;
        justify-content: center;
        align-items: center;
      }

      .app-shell {
        padding: 20px 16px 24px;
        border-radius: var(--border-radius);  /* keep rounded corners */
        max-width: 360px;
        width: 100%;
        min-height: auto;                     /* no forced tall card */
        transform: scale(0.9);                /* zoom down a bit */
        transform-origin: top center;
        margin: 0 auto;
      }

      .app-header {
        align-items: flex-start;
      }

      .app-title {
        font-size: 1.25rem;
      }

      .status-text {
        text-align: left;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <div class="bubble-bg"></div>
    <div class="content">
      <header class="app-header">
        <div class="app-avatar">
          <div class="app-avatar-face">
            <div class="mouth"></div>
          </div>
        </div>
        <div class="app-title-group">
          <div class="app-title">
            Daily Challenge
          </div>
        </div>
      </header>

      <div class="streak-bar">
        <div>
          <div class="streak-label">Current streak</div>
          <div class="streak-main" id="streak-value">0 days üî•</div>
        </div>
        <div class="streak-best" id="best-streak">
          Best: 0 days
        </div>
      </div>

      <section class="challenge-card" aria-live="polite">
        <div class="challenge-inner">
          <div class="challenge-label-row">
            <span class="pill pill-category" id="category-pill">Loading‚Ä¶</span>
            <span class="pill" id="date-pill"></span>
          </div>
          <div class="challenge-text" id="challenge-text">
            Getting today‚Äôs mission‚Ä¶
          </div>
          <div class="tiny-note">
            Now do the dang thing.
          </div>
          <div class="card-actions">
            <button class="btn-complete" id="complete-btn">
              ‚úÖ I did it!
            </button>
            <div class="status-text" id="status-text">
              Tap ‚ÄúI did it!‚Äù when you‚Äôve made it happen.
            </div>
          </div>
        </div>
      </section>

      <div class="footer-note">
        Your streak lives in this browser. Close the tab, come back tomorrow, keep stacking days. üíú
      </div>
    </div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    // Expanded challenge sets (+ Random, weighted litter boxes)
    const CHALLENGES = {
      "Chores": [
        "Tidy one surface you look at a lot (desk, nightstand, coffee table).",
        "Choose one drawer and declutter it for 5‚Äì10 minutes.",
        "Do a quick 10-item pickup around your living space.",
        "Run one load of laundry from start to folded or put away.",
        "Wash all dishes currently visible in the sink.",
        "Take out trash and recycling from the main area.",
        "Wipe down bathroom sink and mirror.",
        "Clear out expired food from the fridge door shelves.",
        "Sweep or vacuum just the highest-traffic area.",
        "Choose one hotspot (chair, counter) and reset it.",
        "Quick-scoop all the litter boxes.",
        "Do a focused 5-minute sweep of stuff on the floor and put things away.",
        "Wipe down kitchen cou
